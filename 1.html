<!--
 * @Author: fuutianyii
 * @Date: 2022-10-12 21:48:56
 * @LastEditors: fuutianyii
 * @LastEditTime: 2022-10-12 22:24:15
 * @github: https://github.com/fuutianyii
 * @mail: fuutianyii@gmail.com
 * @QQ: 1587873181
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>li</title>
    <style type="text/css">
        .container{
            border: 0px solid red;
            width: 100px;
            height: 100px;

            box-sizing: border-box;
        }
        #history_span {
            display: block;
            border: 0px solid red;
            width: 100px;
            height: 100px;

            box-sizing: border-box;
        }
   
    </style>
    margin:2.5px 3px ;
    padding: 5px;
    
    border-radius: 30px;
    color: grey;
</head>
<body>
<div class="stage">
    <div class="container" id="container">
        <div class="search_history">
            <span id="history_span">12312312312</span>
    </div>
</div>
<script>
    shrinks(document.getElementById("history_span"),5,0)
   var tetTimers=null;
function shrinks(dom,time,width_px) {
     var _this=this;
     var width=dom.offsetWidth;
         console.log(width+"++")
         dom.style.width=width-1+"px";
         
    if(width==width_px){
        dom.style.width=(dom.offsetWidth)+"px";
        console.log(dom.style.width+'--')
        return false;
    }
    

    tetTimers =setTimeout(function () {
         _this.shrinks(dom,time,width_px)
     },time);
 }
</script>
</body>
</html>

test(document.getElementById("container"),5,0)
var tetTimer=null;
function test(dom,time,width_px) {
     var _this=this;
     var width=dom.offsetWidth;
         width=width-1;
         dom.style.width=width+"px";
    if(width==width_px){
        dom.style.width=(dom.offsetWidth)+"px";
        console.log(dom.style.width)
        return false;
    }
    

    tetTimer =setTimeout(function () {
         _this.test(dom,time,width_px)
     },time);
 }
